<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Sjakktrener</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />

        <link rel="stylesheet" href="Chess\css\chessboard-1.0.0.min.css"></link>
        <link rel="stylesheet" href="Chess\css\css.css"></link>
        <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script src="Chess\js\chessboard-1.0.0.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/0.10.3/chess.js"></script>
        <script src="Chess\js\Script.js"></script>

    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand" href="index.html">Sjakktrener</a>
                <button class="navbar-toggler text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="spill.html">Spill</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="åpninger.html">Åpninger</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded" href="logginn.html">Logg inn</a></li>
                        <li class="nav-item mx-0 mx-1g-1"><a class="nav-link py-3 px-0 px-1g-3 rounded" href="stats.html">Stats</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="openings" style="margin-top: 5%;">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Lær og lag åpninger!</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>

                <!-- Boards -->

                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Italiensk åpning</h2>
                                    <div id="italiensk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;"><p>
                                    Det italienske spillet er en av de eldste åpningene i sjakk og har eksistert i århundrer. Denne klassiske 1.e4-åpningen kan føre til langsommere og posisjonelle spill så vel som åpne, taktiske kamper. Selv om det er veldig vanlig blant nybegynnere, er det italienske spillet en del av repertoaret til spillere på alle nivåer.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextItaliensk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('italiensk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(itallianFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('italiensk')">Spill selv</button>
                                          <button id="videoKnapp" class="btn" onclick="popupWindow('https://www.youtube.com/watch?v=NWHGmHXEtIE')">Se Video</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <div class="me-auto p-2" style="margin-top: 15%;">
                                    <p>The Det sicilianske forsvaret er det mest populære svaret på Whites 1.e4. Ansatt av både mestere og nybegynnere, er det sicilianske forsvaret en anerkjent og posisjonsmessig god åpning. Likevel er siciliansk en stridbar åpning som har en tendens til å føre til dynamiske og skarpe posisjoner.<br><br>
            
                                    En av de eldste registrerte åpningene, den sicilianske er full av teori og ble brukt av de fleste av de største spillerne i historien. Verdensmesterne GMs Bobby Fischer, Garry Kasparov, Viswanathan Anand, Vladimir Kramnik og Magnus Carlsen er bare noen få av dens brukere.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSiciliansk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('siciliansk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(sicilianskFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('siciliansk')">Spill selv</button>
                                      <button id="videoKnapp" class="btn" onclick="popupWindow('https://www.youtube.com/watch?v=qM4e7g2RukI&t=3s')">Se Video</button>  
                                </div>
                            </div>
                            <div class="col" style="display: flex;">
                                <div class="ms-auto p-2"><h2>Siciliansk forsvar</h2>
                                    <div id="siciliansk" style="width: 500px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Fransk forsvar</h2>
                                    <div id="fransk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;">
                                    <p>Det franske forsvaret er et av de mest populære svarte svarene på 1.e4. Det har konsekvent vært en del av mesternes repertoar siden 1800-tallet og en av favorittene til posisjonelle spillere. Vanligvis fører til tregere spill, denne åpningen er et godt valg for spillere på alle nivåer.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextFransk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('fransk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(frenchFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('fransk')">Spill selv</button>
                                     <button id="videoKnapp" class="btn" onclick="popupWindow('https://www.youtube.com/watch?v=5pec-u6PSvA&t=4s')">Se Video</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <div class="me-auto p-2" style="margin-top: 15%;">
                                    <p>Ruy Lopez (også kjent som den spanske åpningen eller spansk spillet) er en av de eldste og mest analyserte åpningene i sjakkhistorien. De fleste av verdens beste spillere har tatt i bruk denne rike åpningen som en del av repertoaret, og mange av dem spiller den med begge farger. Til tross for å ha en stor mengde teori, er det en åpning som spillere på alle nivåer kan nyte.</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSpansk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('spansk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(spanishFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('spansk')">Spill selv</button>
                                     <button id="videoKnapp" class="btn" onclick="popupWindow('https://www.youtube.com/watch?v=GN7lp9V0szA&t=3s')">Se Video</button>  
                                </div>
                            </div>
                            <div class="col" style="display: flex;">
                                <div class="ms-auto p-2"><h2>Spansk åpning</h2>
                                    <div id="spansk" style="width: 500px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>  
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col" style="display: flex;">
                                <div class="me-auto p-2"><h2>Slavisk forsvar</h2>
                                    <div id="slavisk" style="width: 500px;"></div>
                                </div>
                            </div>
                            <div class="col">
                                <div class="ms-auto p-2" style="margin-top: 15%;">
                                    <p>Det slaviske forsvaret er en solid åpning for svart som svar på White's Queen's Gambit (1.d4 d5 2.c4). Svart kjemper for likhet mot en av Whites mest populære åpninger uten å skape en dårlig lys-kvadrat-biskop – en av ulempene med andre forsvar som det franske forsvaret og dronningens Gambit avvist.<br><br>
        
                                    En ekstremt populær åpning som har blitt støttet av mange verdensmestere som GMs Max Euwe, Mikhail Botvinnik, Vladimir Kramnik, Viswanathan Anand og Magnus Carlsen. Vanligvis fører til tregere spill, Slav er et godt valg for spillere på alle nivåer</p>
                                    <button id="nextTrekk" class="btn" onclick="nextSlavisk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('slavisk')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(slavicFarge)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('slavisk')">Spill selv</button>
                                    
                                    <button id="videoKnapp" class="btn" onclick="popupWindow('https://www.youtube.com/embed/cs54KXnGc-0')">Se Video</button>     
                                </div>
                            </div>
                        </div> 
                    </div>
                </div>
                <hr>
                <div class="d-flex mb-1">
                    <div class="container text-center">
                        <div class="row">
                            <div class="col">
                                <div class="me-auto p-2" style="margin-top: 15%;">
                                    <p>Her kan man lagre og spille sine egene åpninger</p>
                                    <div class="form-group" style="font-size: 20px;">
                                        <button type="onclick" class="btn" for="hentÅpning" id="spilLagretÅpning" style="font-size: 16px;">Hent Åpninger: </label>
                                        <select id="hentÅpning">
                                            <option value="1">Even Åpning</option>
                                            <option value="2">Poul Åpning</option>
                                            <option value="3" selected>Sanel Åpning</option>
                                        </select>
                                    </div><br>
                                    <button id="nextTrekk" class="btn" onclick="nextSpansk()">Neste trekk</button>
                                    <button id="resetTrekk" class="btn" onclick="resetTrekk('egenÅpning')">Reset</button><br><br>
                                    <button id="byttSide" class="btn" onclick="flipFarge(egenÅpning)">Bytt side</button>
                                    <button id="spillBrett" class="btn" onclick="spillBrett('egenÅpning')">Spill selv</button><br><br>
                                    <button id="lagreÅpning" class="btn" style="font-size: 13px;" onclick="lagreÅpning()">Lagre åpningen</button>
                                    <input id="inputÅpning" type="text" placeholder="Navn på åpning"><br><br>                                    
                                </div>
                            </div>
                            <div class="col" style="display: flex;">
                                <div class="ms-auto p-2"><h2>Egene Åpninger</h2>
                                    <div id="egenÅpning" style="width: 500px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>  
                </div>
            </div>
        </section>
        
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-md-6">
                        <h4 class="text-uppercase mb-4">Posisjon</h4>
                        <p class="lead mb-0">
                            Gullbringvegen 28-30
                            <br />
                            Bø, Midt-telemark
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-md-6">
                        <h4 class="text-uppercase mb-4">Finn oss på Sosiale medier!</h4>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4"></h4>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Copyright Section-->
        <div class="copyright py-4 text-center text-white">
            <p> Gruppe 4 &#169; </p>
        </div>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script>
        <script>
            loadOpener('italiensk', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R')
            loadOpener('siciliansk', 'rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2')
            loadOpener('fransk', 'rnbqkbnr/pp1ppppp/8/2p5/4P3/8/PPPP1PPP/RNBQKBNR w KQkq c6 0 2')
            loadOpener('spansk', 'r1bqkbnr/pppp1ppp/2n5/1B2p3/4P3/5N2/PPPP1PPP/RNBQK2R b KQkq - 3 3')
            loadOpener('slavisk', 'rnbqkbnr/pp2pppp/2p5/3p4/2PP4/8/PP2PPPP/RNBQKBNR w KQkq - 0 3')
            loadOpener('egenÅpning', 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR')
            
            var sicilianskMove = 0, frenchMove = 0, slavicMove = 0, spanishMove = 0, itallianMove = 0
            var sicilianskFarge = 'white', frenchFarge = 'white', slavicFarge = 'white', spanishFarge = 'white', itallianFarge = 'white'

            var inputÅpning = document.querySelector('#inputÅpning');
            function lagreÅpning() {
                if (inputÅpning.value.length != 0) { //Hvis ikke blank
                    console.log("LAGRET")
                }
            }
            function resetTrekk(brett) {
                loadOpener(brett, 'rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR')
                sicilianskMove = 0, frenchMove = 0, slavicMove = 0, spanishMove = 0, itallianMove = 0 // Resetter alle brettene slik at den ikke hopper over trekk
            }
            //For å fikse bug med at man kan ednre bruikker på sist brukte brett --> setter alle variablene (frechMove) = maks trekk for den åpningen
            function nextSiciliansk() {
                if(sicilianskMove === 0) {
                    board.move('e2-e4')
                    sicilianskMove++
                } else if(sicilianskMove === 1) {
                    board.move('c7-c5')
                    sicilianskMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextFransk() {
                if(frenchMove === 0 ){
                    board.move('e2-e4')
                    frenchMove++                    
                } else if(frenchMove === 1) {
                    board.move('e7-e6')
                    frenchMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextItaliensk() {
                if(itallianMove === 0 ){
                    board.move('e2-e4')
                    itallianMove++
                } else if(itallianMove === 1) {
                    board.move('e7-e6')
                    itallianMove++
                } else if(itallianMove === 2) {
                    board.move('g1-f3')
                    itallianMove++
                } else if(itallianMove === 3) {
                    board.move('b8-c6')
                    itallianMove++
                } else if(itallianMove === 4) {
                    board.move('f1-c4')
                    itallianMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextSlavisk() {
                if(slavicMove === 0 ){
                    board.move('d2-d4')
                    slavicMove++
                } else if(slavicMove === 1) {
                    board.move('d7-d5')
                    slavicMove++
                } else if(slavicMove === 2) {
                    board.move('c2-c4')
                    slavicMove++
                } else if(slavicMove === 3) {
                    board.move('c7-c6')
                    slavicMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function nextSpansk() {
                if(spanishMove === 0 ){
                    board.move('e2-e4')
                    spanishMove++
                } else if(spanishMove === 1) {
                    board.move('e7-e5')
                    spanishMove++
                } else if(spanishMove === 2) {
                    board.move('g1-f3')
                    spanishMove++
                } else if(spanishMove === 3) {
                    board.move('b8-c6')
                    spanishMove++
                } else if(spanishMove === 4) {
                    board.move('f1-b5')
                    spanishMove++
                } else 
                    return //Forhindrer lyd uten brikke som flytter
                sound()
            }

            function spillBrett(id) {
                spillMedAapning(board.orientation(), id)
            } 
            function flipFarge() { //Bytter side
                board.flip() //flipper
            }
            
            function popupWindow(videoUrl) {
                var width = 600;
                var height = 400;
                var left = (screen.width/2)-(width/2);
                var top = (screen.height/2)-(height/2);
                window.open(videoUrl,'popup','width='+width+',height='+height+',left='+left+',top='+top);
            }  
        </script>
    </body>
</html>
